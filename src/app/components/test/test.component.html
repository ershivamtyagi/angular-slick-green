<ion-header #header>

  <ion-toolbar color='secondry'>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/recipes"></ion-back-button>
    </ion-buttons>

    <ion-title>Log Workout</ion-title>

  </ion-toolbar>
</ion-header>
<ion-content [appHideHeader]="header" [fullscreen]="true" scrollEvents="true">
  <ion-grid> 
    <form [formGroup]="myForm" (ngSubmit)="submitForm()">
      <!-- <ion-item *ngFor="let c of products">
    <ion-label position="stacked">{{c.id}}</ion-label>

  </ion-item> -->


      <div class="section-container" *ngFor="let c of products; let i = index">
        <div formArrayName="excersizes">
          <div [formGroupName]="i">
            <ion-row>
              <ion-col>
                <ion-item [routerLink]="['/showWorkoutDetail',c.id]">
                  <ion-col>{{c.name}}</ion-col>
                </ion-item>
                <!-- <ion-input class="form-control" type="text" placeholder="Excersize Name" formControlName="excersizeName">
          </ion-input></ion-col> -->
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-label><ion-icon name="barbell"></ion-icon> Weight</ion-label>
              </ion-col>
              <ion-col>
                <ion-label><ion-icon name="time"></ion-icon> Rest</ion-label>
              </ion-col>
              <ion-col>
                <ion-label><ion-icon name="repeat"></ion-icon> Reps</ion-label>
              </ion-col>
              <!-- <ion-col><ion-label>Option</ion-label></ion-col> -->
            </ion-row>

            <div class="section-container" *ngFor="let c2 of getFormArray(i).controls; let j = index">
              <div formArrayName="sets">
                <div [formGroupName]="j">

                  <ion-row>
                    <ion-col>
                      <ion-item>
                      <ion-input class="form-control" type="number"  placeholder="Weight" required
                        formControlName="weight" required>
                      </ion-input>
                    </ion-item>
                    </ion-col>
                    <ion-col>
                      <ion-item>
                      <ion-input class="form-control" type="text" placeholder="Rest" required
                        formControlName="rest" required>
                      </ion-input>
                    </ion-item>
                    </ion-col>
                    <ion-col>
                    <ion-item>
                      <ion-input class="form-control" type="number" placeholder="Reps" required
                        formControlName="reps" required>
                      </ion-input>
                    </ion-item>
                    </ion-col>
                  </ion-row>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <ion-button type="submit" expand="block" [disabled]="!myForm.valid">Submit!</ion-button>
    </form>
  </ion-grid>
</ion-content>